/* This is an autogenerated file */
/* Tag: noCheckHeader */

/*    CONFIDENTIAL */
/*    Copyright (C) Cambridge Silicon Radio Ltd 2008. All rights reserved. */

#include "event_pack_unpack/event_pack_unpack.h"
#include "sme_top_level_fsm/sme_top_level_fsm.h"

static void event_to_pal_ctrl_activate_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlActivateCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.numDataBlocks =  event_unpack_CsrUint16(&buffer);

    pal_ctrl_activate_cfm(context, evt.appHandle, evt.numDataBlocks);

}

static void event_to_pal_ctrl_deactivate_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlDeactivateCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);

    pal_ctrl_deactivate_cfm(context, evt.appHandle);

}

static void event_to_pal_ctrl_early_link_loss_ind(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlEarlyLinkLossInd_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_early_link_loss_ind(context, evt.appHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_event_mask_set_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlEventMaskSetCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);

    pal_ctrl_event_mask_set_cfm(context, evt.appHandle);

}

static void event_to_pal_ctrl_failed_contact_counter_read_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlFailedContactCounterReadCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);
    evt.failedContactCounter =  event_unpack_CsrUint16(&buffer);

    pal_ctrl_failed_contact_counter_read_cfm(context, evt.appHandle, evt.logicalLinkHandle, evt.failedContactCounter);

}

static void event_to_pal_ctrl_failed_contact_counter_reset_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlFailedContactCounterResetCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);

    pal_ctrl_failed_contact_counter_reset_cfm(context, evt.appHandle, evt.logicalLinkHandle);

}

static void event_to_pal_ctrl_link_create_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkCreateCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);

    pal_ctrl_link_create_cfm(context, evt.appHandle, evt.logicalLinkHandle);

}

static void event_to_pal_ctrl_link_delete_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkDeleteCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_link_delete_cfm(context, evt.appHandle, evt.logicalLinkHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_link_flush_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkFlushCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);
    evt.flushOccured = (CsrBool) event_unpack_CsrUint16(&buffer);

    pal_ctrl_link_flush_cfm(context, evt.appHandle, evt.logicalLinkHandle, evt.flushOccured);

}

static void event_to_pal_ctrl_link_lost_ind(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkLostInd_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_link_lost_ind(context, evt.appHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_link_modify_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkModifyCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.logicalLinkHandle =  event_unpack_CsrUint16(&buffer);

    pal_ctrl_link_modify_cfm(context, evt.appHandle, evt.logicalLinkHandle);

}

static void event_to_pal_ctrl_link_supervision_timeout_delete_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkSupervisionTimeoutDeleteCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_link_supervision_timeout_delete_cfm(context, evt.appHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_link_supervision_timeout_modify_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkSupervisionTimeoutModifyCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_link_supervision_timeout_modify_cfm(context, evt.appHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_link_supervision_timeout_set_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlLinkSupervisionTimeoutSetCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);
    evt.physicalLinkHandle =  event_unpack_CsrUint8(&buffer);

    pal_ctrl_link_supervision_timeout_set_cfm(context, evt.appHandle, evt.physicalLinkHandle);

}

static void event_to_pal_ctrl_register_cfm(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 length)
{
    CsrUint8* buffer = &inputbuffer[6];
    PalCtrlRegisterCfm_Evt evt;

    evt.appHandle = (void*) event_unpack_CsrUint32(&buffer);

    pal_ctrl_register_cfm(context, evt.appHandle);

}



typedef void (*event_to_fn)(FsmContext* context, CsrUint8* inputbuffer, CsrUint16 size);

static const event_to_fn fnlookup1[29] = {
        NULL,
        event_to_pal_ctrl_link_create_cfm,
        NULL,
        event_to_pal_ctrl_link_delete_cfm,
        NULL,
        event_to_pal_ctrl_link_modify_cfm,
        NULL,
        event_to_pal_ctrl_event_mask_set_cfm,
        NULL,
        event_to_pal_ctrl_link_flush_cfm,
        NULL,
        event_to_pal_ctrl_failed_contact_counter_read_cfm,
        NULL,
        event_to_pal_ctrl_failed_contact_counter_reset_cfm,
        NULL,
        event_to_pal_ctrl_activate_cfm,
        NULL,
        event_to_pal_ctrl_deactivate_cfm,
        NULL,
        event_to_pal_ctrl_link_supervision_timeout_set_cfm,
        NULL,
        event_to_pal_ctrl_link_supervision_timeout_modify_cfm,
        NULL,
        event_to_pal_ctrl_link_supervision_timeout_delete_cfm,
        event_to_pal_ctrl_early_link_loss_ind,
        event_to_pal_ctrl_link_lost_ind,
        NULL,
        NULL,
        event_to_pal_ctrl_register_cfm,

};


CsrBool remote_pal_ctrl_signal_receive(FsmContext* context, CsrUint8* buffer, CsrUint16 size)
{
    CsrUint8* tempbuffer = buffer;
    CsrUint16 id = event_unpack_CsrUint16(&tempbuffer);

    if (id >= 0x2000 &&
        id <= 0x201c)
    {
        if (fnlookup1[id - 0x2000])
        {
            (*fnlookup1[id - 0x2000])(context, buffer, size);
            return TRUE;
        }
    }

    return FALSE;
}
