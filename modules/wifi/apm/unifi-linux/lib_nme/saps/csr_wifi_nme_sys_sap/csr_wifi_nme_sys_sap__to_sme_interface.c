/* This is an autogenerated file */
/* Tag: noCheckHeader */
/*    Copyright (C) Cambridge Silicon Radio Ltd 2009. All rights reserved. */
/* */
/*   Refer to LICENSE.txt included with this source for details on the */
/*   license terms. */

#include "fsm/fsm_internal.h"
#include "nme_top_level_fsm/nme_top_level_fsm.h"

/*lint -e725 */

#define INIT_EVENT_HEADER(event,evtid) \
    event->common.id = evtid; \
    event->common.destination = 0; \
    event->common.sender_ = FSM_ENV


void unifi_nme_sys_capabilities_cfm(FsmContext* context,
                                    void* appHandle,
                                    CsrUint16 commandQueueSize,
                                    CsrUint16 trafficQueueSize)
{
    UnifiNmeSysCapabilitiesCfm_Evt* evt = (UnifiNmeSysCapabilitiesCfm_Evt*)CsrPmalloc(sizeof(UnifiNmeSysCapabilitiesCfm_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_CAPABILITIES_CFM_ID);

    evt->appHandle = appHandle;
    evt->commandQueueSize = commandQueueSize;
    evt->trafficQueueSize = trafficQueueSize;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeCoreFsmInstance, evt->common.id);
}

void unifi_nme_sys_eapol_cfm(FsmContext* context,
                             void* appHandle,
                             unifi_EapolRc result)
{
    UnifiNmeSysEapolCfm_Evt* evt = (UnifiNmeSysEapolCfm_Evt*)CsrPmalloc(sizeof(UnifiNmeSysEapolCfm_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_EAPOL_CFM_ID);

    evt->appHandle = appHandle;
    evt->result = result;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeNetworkSelectorFsmInstance, evt->common.id);
}

void unifi_nme_sys_hip_ind(FsmContext* context,
                           CsrUint16 mlmeCommandLength,
                           const CsrUint8 *mlmeCommand,
                           CsrUint16 dataRef1Length,
                           const CsrUint8 *dataRef1,
                           CsrUint16 dataRef2Length,
                           const CsrUint8 *dataRef2)
{
    UnifiNmeSysHipInd_Evt* evt = (UnifiNmeSysHipInd_Evt*)CsrPmalloc(sizeof(UnifiNmeSysHipInd_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_HIP_IND_ID);

    evt->mlmeCommandLength = mlmeCommandLength;
    evt->mlmeCommand = NULL;
    if (mlmeCommandLength)
    {
        evt->mlmeCommand = (CsrUint8*)CsrPmalloc(mlmeCommandLength);
        CsrMemCpy(evt->mlmeCommand, mlmeCommand, mlmeCommandLength);
    }
    evt->dataRef1Length = dataRef1Length;
    evt->dataRef1 = NULL;
    if (dataRef1Length)
    {
        evt->dataRef1 = (CsrUint8*)CsrPmalloc(dataRef1Length);
        CsrMemCpy(evt->dataRef1, dataRef1, dataRef1Length);
    }
    evt->dataRef2Length = dataRef2Length;
    evt->dataRef2 = NULL;
    if (dataRef2Length)
    {
        evt->dataRef2 = (CsrUint8*)CsrPmalloc(dataRef2Length);
        CsrMemCpy(evt->dataRef2, dataRef2, dataRef2Length);
    }

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeCoreFsmInstance, evt->common.id);
}

void unifi_nme_sys_ma_unitdata_ind(FsmContext* context,
                                   void* appHandle,
                                   CsrUint8 subscriptionHandle,
                                   CsrUint16 frameLength,
                                   const CsrUint8 *frame,
                                   unifi_FrameFreeFunction freeFunction,
                                   unifi_ReceptionStatus receptionStatus,
                                   unifi_Priority priority,
                                   unifi_ServiceClass serviceClass)
{
    UnifiNmeSysMaUnitdataInd_Evt* evt = (UnifiNmeSysMaUnitdataInd_Evt*)CsrPmalloc(sizeof(UnifiNmeSysMaUnitdataInd_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_MA_UNITDATA_IND_ID);

    evt->appHandle = appHandle;
    evt->subscriptionHandle = subscriptionHandle;
    evt->frameLength = frameLength;
    evt->frame = NULL;
    if (frameLength)
    {
        evt->frame = (CsrUint8*)CsrPmalloc(frameLength);
        CsrMemCpy(evt->frame, frame, frameLength);
    }
    evt->freeFunction = freeFunction;
    evt->receptionStatus = receptionStatus;
    evt->priority = priority;
    evt->serviceClass = serviceClass;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeNetworkSelectorFsmInstance, evt->common.id);
}

void unifi_nme_sys_ma_unitdata_cfm(FsmContext* context,
                                   void* appHandle,
                                   unifi_Status result,
                                   unifi_TransmissionStatus transmissionStatus,
                                   unifi_Priority providedPriority,
                                   unifi_ServiceClass providedServiceClass,
                                   CsrUint32 reqIdentifier)
{
    UnifiNmeSysMaUnitdataCfm_Evt* evt = (UnifiNmeSysMaUnitdataCfm_Evt*)CsrPmalloc(sizeof(UnifiNmeSysMaUnitdataCfm_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_MA_UNITDATA_CFM_ID);

    evt->appHandle = appHandle;
    evt->result = result;
    evt->transmissionStatus = transmissionStatus;
    evt->providedPriority = providedPriority;
    evt->providedServiceClass = providedServiceClass;
    evt->reqIdentifier = reqIdentifier;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeNetworkSelectorFsmInstance, evt->common.id);
}

void unifi_nme_sys_ma_unitdata_subscribe_cfm(FsmContext* context,
                                             void* appHandle,
                                             CsrUint8 subscriptionHandle,
                                             unifi_SubscriptionResult status,
                                             CsrUint16 allocOffset)
{
    UnifiNmeSysMaUnitdataSubscribeCfm_Evt* evt = (UnifiNmeSysMaUnitdataSubscribeCfm_Evt*)CsrPmalloc(sizeof(UnifiNmeSysMaUnitdataSubscribeCfm_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_MA_UNITDATA_SUBSCRIBE_CFM_ID);

    evt->appHandle = appHandle;
    evt->subscriptionHandle = subscriptionHandle;
    evt->status = status;
    evt->allocOffset = allocOffset;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeNetworkSelectorFsmInstance, evt->common.id);
}

void unifi_nme_sys_ma_unitdata_unsubscribe_cfm(FsmContext* context,
                                               void* appHandle,
                                               unifi_SubscriptionResult status)
{
    UnifiNmeSysMaUnitdataUnsubscribeCfm_Evt* evt = (UnifiNmeSysMaUnitdataUnsubscribeCfm_Evt*)CsrPmalloc(sizeof(UnifiNmeSysMaUnitdataUnsubscribeCfm_Evt));

    INIT_EVENT_HEADER(evt, UNIFI_NME_SYS_MA_UNITDATA_UNSUBSCRIBE_CFM_ID);

    evt->appHandle = appHandle;
    evt->status = status;

    fsm_send_event_external(context, (FsmEvent*)evt, getNmeContext(context)->nmeNetworkSelectorFsmInstance, evt->common.id);
}


